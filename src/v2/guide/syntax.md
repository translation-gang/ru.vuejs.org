---
title: Синтаксис шаблонов
type: guide
order: 4
---

Для связывания DOM с данными экземпляра Vue использует синтаксис, основанный на HTML. Все шаблоны Vue являются валидным HTML-кодом, который могут распарсить все HTML-парсеры и браузеры.

Для работы Vue компилирует шаблоны в `render`-функции виртуального DOM. В сочетании с системой реактивности, Vue умеет определять минимальное число компонентов для повторной отрисовки и применяет минимальное количество манипуляций к DOM при изменении состояния приложения.

Если вы знакомы с концепцией виртуального DOM и предпочитаете использовать ничем не ограниченную мощь JavaScript — можете также [писать render-функции напрямую](render-function.html), минуя шаблоны и даже используя JSX.

## Интерполяции

### Текст

Наиболее простой способ связывания данных — это текстовая интерполяция с использованием синтаксиса Mustache (двойных фигурных скобок):

``` html
<span>Сообщение: {{ msg }}</span>
```

Выражение в фигурных скобках будет заменено значением свойства `msg` соответствующего объекта данных. Кроме того, оно будет обновлено при любом изменении этого свойства.

Возможно также выполнение интерполяции однократно, которая не обновится при изменении данных — с помощью [директивы v-once](../api/#v-once), но обратите внимание, это повлияет сразу на все связанные переменные в рамках данного элемента:

``` html
<span v-once>Это сообщение никогда не изменится: {{ msg }}</span>
```

### Сырой HTML

Значение выражения в двойных фигурных скобках подставляется как простой текст, а не как HTML. Для HTML необходимо использовать директиву `v-html`:

``` html
<p>Двойные фигурные скобки: {{ rawHtml }}</p>
<p>Директива v-html: <span v-html="rawHtml"></span></p>
```

{% raw %}
<div id="example1" class="demo">
  <p>Двойные фигурные скобки: {{ rawHtml }}</p>
  <p>Директива v-html: <span v-html="rawHtml"></span></p>
</div>
<script>
new Vue({
  el: '#example1',
  data: function () {
  	return {
  	  rawHtml: '<span style="color: red">Текст должен быть красным.</span>'
  	}
  }
})
</script>
{% endraw %}

Содержимое тега `span` будет заменено значением свойства `rawHtml`, интерпретированного как обычный HTML — все привязки данных игнорируются. Запомните, вы не можете использовать `v-html` для вложения шаблонов друг в друга, потому что движок шаблонов Vue не основывается на строках. Вместо этого нужно использовать компоненты, позволяющие сочетать и переиспользовать элементы UI.

<p class="tip">Динамическая отрисовка произвольного HTML-кода на вашем сайте крайне опасна, так как может легко привести к [XSS-уязвимостям](https://ru.wikipedia.org/wiki/Межсайтовый_скриптинг). Используйте интерполяцию HTML только для доверенного кода, и **никогда** не подставляйте туда содержимое, создаваемое пользователями.</p>

### Атрибуты

Синтаксис двойных фигурных скобок не работает с HTML-атрибутами. Используйте вместо него [директиву v-bind](../api/#v-bind):

``` html
<div v-bind:id="dynamicId"></div>
```

При использовании с булевыми атрибутами (когда их наличие уже означает `true`) `v-bind` работает немного иначе. В этом примере:

``` html
<button v-bind:disabled="isButtonDisabled">Кнопка</button>
```

Если значением `isButtonDisabled` будет `null`, `undefined` или `false`, то атрибут `disabled` не добавится в элемент `<button>`.

### Использование выражений JavaScript

Пока мы связывали данные со свойствами в шаблонах только по простым ключам. Но на самом деле при связывании данных Vue поддерживает всю мощь выражений JavaScript:

``` html
{{ number + 1 }}

{{ ok ? 'YES' : 'NO' }}

{{ message.split('').reverse().join('') }}

<div v-bind:id="'list-' + id"></div>
```

Выражения будут вычислены как JavaScript-код в области видимости соответствующего экземпляра Vue. Единственное ограничение в том, что допускается лишь **одно выражение**, поэтому код ниже **НЕ** сработает:

``` html
<!-- это не вычисляемое выражение, а определение переменной: -->
{{ var a = 1 }}

<!-- операторы условий не сработают, используйте тернарные выражения: -->
{{ if (ok) { return message } }}
```

<p class="tip">Выражения в шаблонах выполняются в режиме «песочницы», поэтому доступ есть только к ограниченному списку глобальных объектов, таким как `Math` и `Date`. Не пытайтесь получить доступ к пользовательским глобальным объектам внутри выражений используемых в шаблонах.</p>

## Директивы

Директивы — это специальные атрибуты с префиксом `v-`. В качестве значения они принимают **одно выражение JavaScript** (за исключением `v-for`, которую мы изучим далее). Директива реактивно применяет к DOM изменения при обновлении значения этого выражения. Вспомним пример из введения:

``` html
<p v-if="seen">Сейчас меня видно</p>
```

В этом случае директива `v-if` удалит или вставит элемент `<p>` в зависимости от истинности значения выражения `seen`.

### Аргументы

Некоторые директивы могут принимать «аргумент», разделённый от названия директивы двоеточием. Например, директива `v-bind` используется для реактивного обновления атрибутов HTML:

``` html
<a v-bind:href="url"> ... </a>
```

В данном случае `href` — аргумент, указывающий директиве `v-bind` связать атрибут `href` элемента со значением выражения `url`.

Другим примером будет директива `v-on`, которая отслеживает события DOM:

``` html
<a v-on:click="doSomething"> ... </a>
```

В данном случае аргументом является тип события. Подробнее на обработке событий мы остановимся позднее.

### Модификаторы

Модификаторы — это особые постфиксы, добавляемые после точки, которые указывают, что директива должна быть связана каким-то определённым образом. Например, модификатор `.prevent` говорит директиве `v-on` вызвать `event.preventDefault()` при обработке произошедшего события:

``` html
<form v-on:submit.prevent="onSubmit"> ... </form>
```

Вы увидите больше примеров применения модификаторов позднее, когда будем более подробно разбирать [`v-on`](events.html#Автоматические-модификаторы-событий) и [`v-model`](forms.html#Модификаторы).

## Сокращения

Префикс `v-` служит как визуальное напоминание Vue-специфичных атрибутов в ваших шаблонах. Это может быть полезно, когда Vue используется для добавления динамического поведения в существующей разметке, но для часто используемых директив может показаться слишком многословным. В то же время необходимость в `v-` становится менее значимой при создании [одностраничных приложений](https://ru.wikipedia.org/wiki/Одностраничное_приложение), где Vue контролирует каждый шаблон. Поэтому Vue предоставляет специальные сокращения для двух наиболее часто используемых директив, `v-bind` и `v-on`:

### Сокращение `v-bind`

``` html
<!-- полный синтаксис -->
<a v-bind:href="url"> ... </a>

<!-- сокращение -->
<a :href="url"> ... </a>
```

### Сокращение `v-on`

``` html
<!-- полный синтаксис -->
<a v-on:click="doSomething"> ... </a>

<!-- сокращение -->
<a @click="doSomething"> ... </a>
```

Такие атрибуты на вид несколько отличаются от обычного HTML-кода, но символы `:` и `@` являются валидными для названий атрибутов, и все поддерживаемые Vue.js браузеры могут их корректно обработать. К тому же, в итоговой разметке они не появятся. Сокращённый синтаксис совершенно необязателен, но он скорее всего вам понравится, когда вы узнаете больше о том, как он используется далее.
